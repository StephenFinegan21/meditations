---
import Entry from "../components/Entry.astro";
import Layout from '../layouts/Layout.astro';

export async function getStaticPaths() {
  const entries = await Astro.glob('../data/*.md'); 

  return entries.map(entry => ({
    params: { 
      chapter: entry.frontmatter.link 
    },
    props: {
      entry
    },
  }))
}
let formattedEntries = Astro.props.entry.rawContent().split(/[0-9]+/)
formattedEntries = formattedEntries.map(entry => entry.startsWith('. ') ? entry.substring(2) : entry)



---
<Layout title="Welcome to Astro.">
{formattedEntries.map(entry => 
<Entry entry={entry}/>
)}
</Layout>








